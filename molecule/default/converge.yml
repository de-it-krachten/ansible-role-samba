---

- name: Converge
  hosts: all
  vars:
    samba_scripts: [{'name': 'test1.sh.j2', 'dest': '/tmp/test1.sh'}, {'name': 'test2.sh', 'dest': '/tmp/test2.sh'}]
    samba_create_users: True
    samba_users: [{'name': 'user1', 'password': 'password1'}, {'name': 'user2', 'password': 'password2'}]
    samba_shares: [{'name': 'homes', 'settings': {'comment': 'Home Directories', 'browseable': 'yes', 'read__only': 'no', 'create__mask': '0700', 'directory__mask': '0700', 'valid__users': '%S', 'writeable': 'yes', 'public': 'yes', 'dfree__command': '/tmp/test1.sh'}}, {'name': 'private', 'settings': {'comment': 'private directories', 'browseable': 'no', 'public': 'no', 'dfree__command': '/tmp/test2.sh'}}]
  tasks:
    - name: Include role 'ansible-role-samba'
      include_role:
        name: ansible-role-samba
